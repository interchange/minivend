#!/usr/bin/perl
# restart - restarts Vend in server mode
$VendRoot = '/usr/local/lib/minivend';
$ConfDir = '/usr/local/lib/minivend/etc';
$PidFile = "$ConfDir/minivend.pid";
## END CONFIGURABLE VARIABLES


open(PID, $PidFile)
	|| die "Couldn't open $PidFile. Vend apparently not up.\n";
chomp($PID = <PID>);

kill 1, $PID
	or die "Couldn't restart Vend: $!\n";

print <<EOF ;
Hang-up signal sent to Vend daemon.

Check the error log (probably $VendRoot/error.log) to see if
the daemon has restarted properly.

EOF

sleep 2;
