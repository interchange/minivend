<title>Shipping: Create/Edit</title>
<p>
<b>Name of this method</b><br>
This is the internal name used for the shipping method, and should be a single word, like "air1". The order you enter the shipping methods is the order in which they will be presented to the customer. We recommend starting with the most common or least expensive method first. Here are some commonly used names for various shipping methods: standard ground shipping, standard flat rate shipping, three day shipping, second day shipping, next day air shipping, International shipping, US Mail shipping, etc.
</p>

<p>
<b>Label for this method</b><br>
The name you specify here will appear in the list of available shipping
methods shown to shoppers when they place orders. Take care to make
them easy-to-understand. The name you enter should reflect the shipping
algorithm you choose.
</p>

<p>
<b>Calculate based on this algorithm</b></br>
</p>

<p>
<ul>
<li>
<A href="shipping.price.html">Standard shipping by price:</a>
shipping total based on the total price of the order. This can also be
used to calculate a flat shipping price ($0 - infinity = $4.95) or a flat
rate with big orders shipped free ($0 - 500 = $4.95 and $500 - infinity =
free). The shipping charge can either be a flat charge or a percentage.
<li>
<a href="shipping.weight.html">Standard shipping by weight:</a>
calculates shipping by total weight. To use this method, you must enter a
weight for each item in your inventory. You can use any unit of measure
you wish as long as you are consistent: if you enter your item prices
in grams then configure shipping with pounds, your customers will not
be happy when they are quoted huge shipping rates.
<li>
<a href="shipping.quantity.html">Standard by quantity:</a>
charges an amount according to how many items are ordered.
<li>
<a href="shipping.ups.html">UPS zones-based:</a>
Interchange is pre-configured with UPS zones tables for ground, three day
select, second day air, and next day air. If you require zones support
for Fedex, DHL, or USPS, please <a href="mailto:info@akopia.com">contact Akopia</a>.
</ul>
</p>

<p>
<b>Minimum shipping charge</b><br>
The amount you enter into this field will be the minimum allowed quote for 
that particular shipping method. For example, if you want to charge no less 
than $4.50 for ground shipping, enter "4.5" or "4.50" into this field. 
Remember, you must set the minimum for each of your shipping methods, if you 
want each to have a minimum charge.
</p>

<p>
<a name="additional"><b>Additional shipping calculation</b><br></a>
Here, you can enter any additional calculation you would like to apply to
the shipping calculation. This is especially useful for the zones-based
shipping calculations. Very few merchants pay the full rates for UPS
shipping, and some merchants want to slightly mark up their shipping
charges for handling. Other merchants may want to discount them slightly
to promote goodwill. This feature would allow you to discount your UPS
ground shipping quote by 25% to match your discount, then add $2.50
to cover a packaging and handling charge. Tip: if you're currently not
receiving a discount on your shipping rates, call UPS and ask for one.
</p>

<p>
Although the shipping calculation engine that comes with Interchange is
flexible and versatile, we realized that it still might not meet the
needs of all users. We decided to include a feature that would allow
Interchange administrators to modify the shipping charges that were
calculated in a simple way. The "additional shipping calculation" field
can be used to enter a mathematical expression that will be applied to
a calculated shipping charge. Here's how it works.
</p>

<p>
Every shipping method needs to have a shipping algorithm 
associated with it. The algorithm could be "shipping by total cost", 
"shipping by quantity", or even a UPS weight based calculation. 
The administrator will typically have the option to set up several 
parameters that the algorithm uses. The administrator then names 
the shipping method whatever he/she wants. All available shipping 
methods are presented to the customer when he/she shops. Based on 
the method chosen, a shipping charge is calculated.
</p>

<p>
The shipping algorithm calculates a "base shipping charge." That charge
may be modified by using the "additional shipping calculation" field.
</p>

<p>
Let's look at an example. Suppose that I want to implement a UPS based
shipping system. I create three shipping methods, and call them "Regular",
"Second day air" and "Next day air." Each method uses a corresponding UPS
algorithm that calculates the shipping charge based on the weight of the
customer's order, the UPS rate and zone tables. Easy enough -- but suppose
that I have a special deal with UPS that gives me a 10% discount off the
standard rate tables, because I ship a large volume of goods.  Obviously,
I don't want have to manually edit the rate tables.  Instead I can use
the "additional shipping calculation" field to automatically apply a 10%
discount to whatever the UPS rate would have calculated.
</p>

<p>
In the "additional shipping calculation" field, I would enter the following:
</p>

<p>
x = x - (x * .1)
</p>

<p>
The character "x" represents the shipping charge as calculated by the
UPS algorithm. Interchange will automatically apply the above formula
to the shipping charge, and charge the customer the new total.
</p>

<p>
Here's how it would work for a real customer. Customer A enters the site
and orders 50 lbs. of goods to be shipped to Alaska by next day air. The
UPS algorithm determines that the cost would be $400. Interchange then
substitutes 400 for "x" in your formula:
</p>

<p>
new charge = 400 - (400 * .1)
</p>

<p>
The resultant charge is 400 - 40 dollars, or $360.
</p>

<p>
Of course, we could have also written the formula this way:
</p>

<p>
x = x * .9
</p>

<p>
which would have had exactly the same effect. If you're a Perl 
guru, you'll be happy to know that you could also have written
</p>

<p>
x *= .9
</p>

<p>
It is important to note that you must specify some sort of equality 
on the left hand side of the equation.
</p>

<p>
You can enter any valid mathematical expression and you can reuse the
"x" variable as many times as you need to. Interchange validates the
expression you enter, so if you make a mistake it will inform you,
and the additional shipping calculation field will not be updated.
</p>

<p>
All invalid characters are stripped out before Interchange processes 
your equation. This means that if you type in something like:
</p>

<p>
x = x * y + 300
</p>

<p>
the "y" will be removed, and Interchange will see 
</p>

<p>
x = x * + 300
</p>

<p>
which is an invalid equation.
</p>

<p>
Valid expressions include (but are not limited to) such things as: 

<pre>
x = x + 5
x = x + 5 + (x * .1)
x = x - .75
x += 2
x -= (x * .25)
</pre>

etc.
</p>

<p>
As you can see, there's more than one way to enter any given expression.
</p>

<p>
Valid characters are x+-/*.()0123456789
</p>

<p>
If for any reason a shipping algorithm fails, the additional shipping 
calculation will not be executed.
</p>
