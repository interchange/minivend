[comment]
ui_template: Yes
ui_template_name: templates/standard
ui_template_layout: LOGOBAR, MENUBAR, LEFTSIDE, UI_CONTENT, NO_RIGHT, MENUBOTTOM, COPYRIGHT
ui_template_description: Standard page with top and left areas. Menu bar and copyright at bottom.
ui_control_element: page_title : 
ui_control_element: members_only : 0=No,1=Yes
ui_control_description: page_title: Page title
ui_control_description: members_only : Members only
[/comment]
[set page_title]News[/set]
__LOGOBAR__
__MENUBAR__
__LEFTSIDE__
<!-- BEGIN CONTENT -->

<BLOCKQUOTE>
<FONT FACE="arial,helvetica" SIZE="-1">
You may note a new look for Interchange's "simple" demo.
<P>
[page reconfig/reconfig]Reconfigure the catalog[/page]
(must be user <B><TT>minivend</TT></B>)
<P>
[page reconfig/upload]Upload/download files[/page]
(must be user <B><TT>minivend</TT></B>)
</FONT>
<P>

<H2> New features </H2>
<UL>
<LI> You can order items on the fly:
<P>
<A HREF="[area form="
                    mv_todo=refresh
                    mv_order_item=000101
                    mv_order_fly=description=An on-the-fly item|price=100.00
                "]">Order it</A>
<P>
You can set quantities:
<P>
<A HREF="[area form='
                    mv_todo=refresh
                    mv_order_item=000101
                    mv_order_quantity=10
                    mv_order_fly=description=An on-the-fly item|price=100.00
        ']">Order 10 of it</A>
<P>
You can use a form:
   <FORM ACTION="[area process]" METHOD=POST>
        <INPUT TYPE=hidden NAME=mv_todo VALUE="refresh">
 
        <INPUT TYPE=hidden NAME=mv_order_item VALUE="000101">
        Qty: <INPUT SIZE=2 NAME=mv_order_quantity VALUE="1">
        <INPUT TYPE=hidden NAME=mv_order_fly VALUE="description=An on-the-fly item|price=100.00">
 
        <INPUT TYPE=submit VALUE="Order button">
    </FORM>
<P>
You can order more than one item:
<P>
   <A HREF="[area form='
        mv_todo=refresh
 
        mv_order_item=000101
        mv_order_fly=description=An on-the-fly item|price=100.00
 
        mv_order_item=000102
        mv_order_fly=description=Another on-the-fly item|price=200.00
    ']">Order two different items</A>
<P>

You can use a form here, too:
<P>
   <FORM ACTION="[area process]" METHOD=POST>
        <INPUT TYPE=hidden NAME=mv_todo VALUE="refresh">
 
        <INPUT TYPE=hidden NAME=mv_order_item VALUE="000101">
        Qty: <INPUT SIZE=2 NAME=mv_order_quantity VALUE="1"><BR>
        <INPUT TYPE=hidden NAME=mv_order_fly VALUE="description=An on-the-fly item|price=100.00">
 
        <INPUT TYPE=hidden NAME=mv_order_item VALUE="000102">
        Qty: <INPUT SIZE=2 NAME=mv_order_quantity VALUE="1"><BR>
        <INPUT TYPE=hidden NAME=mv_order_fly VALUE="description=Another on-the-fly item|price=200.00">
        <INPUT TYPE=submit VALUE="Order two different with a button">
    </FORM>
<P>
[mvasp]
<LI> A new <A HREF="<% =
                        $Tag->area('mvasp')
                %>">ASP-style syntax</A> is supported (and is used in this section):
<PRE>
        &lt;HTML MV=mvasp>&lt;BODY>This is HTML</BODY>
        &lt;%
            $Document->write('This is code');
        %&gt;
        HTML again.
        &lt;%
            $Document->write('Code again.');
        %&gt;
</PRE>
<LI> A new Perl object set is there to support the ASP, but
      it also is available via
<XMP>
        [perl arg=new]
            $Document-&gt;write("Your name is $Values-&gt;{name}");
        [/perl]
</XMP>
      Objects supported are:
<XMP>
            $CGI->{key}              Hash reference to submitted values
            $Document->write()       Writes to page
            $Carts->{cartname}       Direct reference to shopping carts
            $Config->{key}           Direct reference to $Vend::Cfg
            $Items->[n]              Direct reference to current cart
            $Scratch->{key}          Direct reference to scratch area
            $Session->{key}          Direct reference to session area
            $Tag->tagname(@args)     Call a tag as a routine (UserTag too!)
            $Values->{key}           Direct reference to user form values
            $Variable->{key}         Direct reference to Interchange Variable 
            &Log($msg)               Log to the error log
</XMP>

<% = "Here is a ", 
         $Tag->page('mvasp'),
         "test link</A> generated by MV's ASP-style syntax.";
         %>
<P>
<LI> Tag parameters quoted with parameter=`code` are the equivalent of 
      parameter="[calc]code[/calc]".

<LI> Tag parameters can be quoted with | to strip whitespace:
    
<XMP>
        [page  href=|
                    [value name="whatever"]
                    |]
</XMP>
        is equivalent to 

<XMP>
        [page  href="[value name="whatever"]"]
</XMP>

<LI> Tag parameters can be quoted with | to strip whitespace:
    
<XMP>
        [page  href=|
                    [value name="whatever"]
                    |]
</XMP>

        is equivalent to 
<XMP>
        [page  href="[value name="whatever"]"]
</XMP>
<LI> Tag parameters can be quoted with @ to insert a scratch
      value:
<XMP>
        [value name=foo set=@bar@]
        [value name=foo set="[scratch bar]"]
</XMP>
      This can be useful when setting large values into variables,
      as it is much more efficient than the previous method.

 <LI> Input values filters can be set up by quoting with ! and
      an operation:
<XMP>
        <INPUT TYPE=text NAME=phone VALUE="[value name=!phone:digits!]">
</XMP>
      This guarantees that the value of "phone" will be digits only
      when sent to Interchange. Filters include:
<PRE>
          uc          UPPER CASE 
          lc          lower case 
          digits      only digits
          word        only A-Z a-z _ 0-9
          urlencode   space becomes %20
          entities    < becomes &lt;
          strip       strip leading/trailing whitespace
          no_white    strip all whitespace
          gate        set to blank unless scratch variable
                       with same name is non-blank
          n           (where n is an integer) length limit
          remove      delete existing filter (if any)
</PRE>
       Filters can also be created with Filter directive
       and/or [input-filter op="uc"][/input-filter]

<LI> Filter directive allows filtering of certain CGI variables
      for input conditioning; this is not session dependent and
      automatically operates on any iteration of the variable...
<BLOCKQUOTE>
        Filter  phone  digits 10
</BLOCKQUOTE>
      That removes all non-digit values from the variable "phone",
      then limits length to 10. Any session-based filters are applied
      after this one.

<LI> Small improvements in the parser, notably optimization when
      positional parameters are used.

<LI> ECML is supported via the Vend::ECML module. To map the 
      checkout form values from Interchange UserDB names, with an [ecml ...]
      tag:
<XMP>
            [ecml state]
</XMP>
      is equivalent to:
<XMP>
            <INPUT TYPE=text
                   VALUE="[value state]"
                   NAME=Ecom_ShipTo_Postal_StateProv
                   SIZE=2>
</XMP>
<LI> The [price] tag now supports pricing with attributes (size/color etc.).
      If you do
<XMP>
            [price code=99-102 size=XL color=RED]
            [price code=99-102 size=L color=RED]
            [price code=99-102 size=L color=BLUE]
</XMP>
      in the demo, this will demonstrate it.

<LI> The idiom:
<XMP>
         #include directory/*
</XMP>
      now is supported (and used in the demo minivend.cfg file). This
      includes all files in that directory (but not subdirectories)
      and allows you to include the whole directory. It should make
      maintaining multiple servers a bit easier.

<LI> Made some minor changes in the demo:
	<OL>
        <LI> updated flypage to show attribute-based price tag
        <LI> added [email to=addr from=addr subject=subj] message [/email]
          UserTag which is better then the form_mail GlobalSub. It will
          allow $Tag->email() to be used, among other things.
        <LI> Static build should work out of the box if you
          have DBM and define:
	</OL>
<XMP>
              StaticDBM static
</XMP>
</UL>
</BLOCKQUOTE>
[/mvasp]

<!-- END CONTENT -->
__RIGHTSIDE__
__MENUBOTTOM__
__COPYRIGHT__

<!-- current page: @@MV_PAGE@@ -->
