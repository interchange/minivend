Interchange 4.6.1

* Added new SessionType "NFS", which forces fcntl_lock/fcntl_unlock in
  SessionFile.pm (bug #76).

* Report missing DBDs at startup time by working around DBI bug that causes
  $@ to be eaten (bug #75).

* Miscellaneous bugfixes, thanks to Jean-Philippe Bouchard:
  - Fixed Data.pm bug that caused flypage problems (bug #60).
  - Fixed spreadsheet edit auto export bug (bug #59).

* Link program fixes, thanks to minivend@delionsweb.net:
  - Fixed tlink.pl LINK_PORT problem (bug #61).
  - Fixed compile_link 'nosuid' option failure (bug #66).

* Construct Something changes:
  - Fixed stock alert price problem (bug #57).
  - Fixed 'title' vs. 'description' field issues. Thanks to Steve Gertz.

* Fixed [selected] and [checked] tags to be more uniform and to support
  case-sensitive and $CGI comparisons. Documented in Tagref.pm. Also,
  "multiple" and "default" args can no longer be positional -- no big loss.

* Bug meaning [item-subtotal noformat=1] not recognized fixed.

* [item-exec routine] now picks up $Values, etc. before a [calc] is run.

* Order.pm: routes now use a "from" parameter which sets the email From: 
  header.

* Fixes to Util.pm:
  - Prevent sprintf() screwing up numbers in certain locales.
  - [include] now can interpret [L] if locale=1 parameter is added.

* Server.pm -- we can now accept ISINDEX queries (for what it is worth).

* Scan.pm -- fix non-interpolated tags in search profiles.

* Database tables can now reside in different directories with the 
  DIR option to the Database config parameter.

Interchange 4.6.0

* Minor final changes


Interchange 4.5.8 beta release

* Documentation overhaul -- PDFs now available
* Various bugfixes
* Oracle support improved
* 'Construct' catalog improvements
* Authorize.net support


Interchange 4.5.7 beta release


Interchange 4.5.6 changes -- complete overhaul of UI

* Everything renamed to "interchange". interchange.cfg, interchange.pid,
  etc. If you keep minivend.cfg as the configuration file, the PID file
  will be minivend.pid. There should be a good level of backward
  compatibility.

* "construct" is now the default demo -- a "foundation" demo will be
  added later.

	-- Improved graphics and layout over older demos.
	-- Split ship addresses for items
	-- Shipping notices integrated
	-- Recurring order facility (doesn't yet work).
	-- PO with credit limit
	-- Merchandising cross-sells by category or item.
	-- "Others who bought this"

  The HTML rendering is kind of slow on Netscape, any help with that
  would be appreciated.

* The user interface (UI) was reorganized to make it easier to understand
  and use.

  -- All functions should now be available via menu, quicklinks should
     not be necessary.
  -- Most database table lists are HTML lists with links instead of
     the button approach.
  -- Administration console with information helpful for debug.

UI:

* Orders 
  -- list-based
  -- shipping status notices
  -- automatic check of archive box when status=shipped
  -- list-based delete and archive operations
  -- lists are sortable on multiple fields
  -- status display for individual line items
  -- change size of list with Knar UI_SZ_LIST_ORDER

* Customers
  -- list-based
  -- list-based delete and deactivate operations
  -- lists are sortable on multiple fields
  -- status display for individual line items
  -- change size of list with Knar UI_SZ_LIST_CUSTOMER

* Item editor
  -- Select list of items to delete or edit in sequence
  -- Now have different "views" for merchandising, pricing, inventory, etc.
  -- checkbox-based deletes
  -- item fields to display set with UI_ITEM_FIELDS
  -- separator fields set with UI_ITEM_BREAK
  -- cross_category field added to merchandising table

* Content
  -- Templates easier to create
  -- Editor allows change of template

* Layout
  -- button builder does on-the-fly items
  -- fixed bugs in search builder

* Merchandising
  -- new menu, includes affiliate stuff

* Reporting
  -- Fixed cast problem with PostGres reports
  -- More consistent look/feel for reports

* Administration
  -- New information screen that should help with diagnosing trouble
  -- Table select/edit now consistent with other editors
  -- Selector rows can be sorted via column, forward and reverse
  -- Table display properties can be easily edited

Core:

* Database update forms (mv_todo=set) now can set fields in multiple
  tables when there is a common key.

* Changed SpecialPage defaults for "search", "order", and "checkout"
  to reflect longstanding defaults in demo catalogs.

* Fixed bug in fixed-field (PriceField) pricing, introduced sometime
  in Minivend 4.

* Added GUESS_NUMERIC parameter to databases, which operates by checking
  field types in SQL and by looking at the import data on DBM. You can
  see this in operation in the UPS tables "Ground", etc.

* Removed auto-index of key field if POSTCREATE statement exists.

* Added some more better auto-numbering support. Still not ready
  for the UI.

* Found bug in Vend::Table::DBI->inc_field that caused a quoted value
  when really was a number.

* CSV imports now are fully as functional as others, can do indexing, numeric
  guess, etc.

* Added "value" widget type for [accessories ...].

* Added [tmp var]scratch setting[/tmp] and [scratchd var] tags to
  purge Scratch when setting/accessing variables. This can improve
  session write speed if setting a large value which will only be
  used in the current page.

* Added "tabbed" filter, and some other Filters. Now you can add
  your own filters persistently with:

	Sub <<EOS
	sub somesub { 
		$Filter{foo_to_bar} = sub {
			my $value = shift;
			$value =~ s/foo/bar/g;
			return $value;
		};
	}
	EOS
	
	or just in the current page

	[perl]
		$Filter{foo_to_bar_tmp} = sub {
			my $value = shift;
			$value =~ s/foo/bar/g;
			return $value;
		};
		return;
    [/perl]

  Thanks to Stefan Hornburg for suggestion.

* Fixed SpecialPage handling of salestax.asc, thanks to Jeff Carnahan.

* Fixed _postcode() routine in Order.pm, thanks to Brett Harrison.

* Fixed longstanding problem with demo catalog whereby the UserDB
  defined the username field as "user" but it was actually named
  "username" in the database. Changed UserDB default to "username", because
  "user" is a reserved word in some SQL databases (i.e. Postgres).

* UserDB: Removed mv_credit_card_info from B_FIELDS so that it would not
  be saved in UserDB.

* Added [counter ...] tag, with some additional capabilities over
  the old [fcounter ...] tag. Kept fcounter around in UserTag for
  compatibility with older catalogs.

* Added image copying for shared image directories (the admin).


Interchange 4.5.0 changes -- the start of the Tallyman merge.

* Many, many, changes and improvments to the user interface.
  Minimate is broken out again and made separate; the UI should
  have all of its functionality. See the UI online help for changes.
* LDAP support. You can now keep data in LDAP servers, with 
  normal Minivend Database connectivity. Searchable, too!
  Put in catalog.cfg:

	Database  variable variable.txt LDAP:some.servername.com
	Database  variable BIND_DN      cn=fragermk, o=catalogs, c=minivend
	Database  variable BASE_DN      o=catalogs, c=minivend
	Database  variable BIND_PW      secret

  Programmed by Mike Frager with a bit of help from Mike Heins.

* VariableDatabase now takes effect at the time of the call in catalog.cfg.
  This means you can edit your Variable settings in a database, reconfigure,
  and then use the values farther down in the configuration file.

* Order.pm: fixed multiple problems in precedence for order profiles.
  Thanks to Ton Verhagen. Also added "isbn" profile check written
  by Ton Verhagen.
* Interpolate.pm: Fixed bug in error message generation -- thanks to Dan
  Busarow.
* Config.pm: Fixed default declaration of "HOT" for memory databases,
  now should work properly as default database.
* Other changes much too numerous to mention. This will be the last
  version of this changes document; there are too many.
