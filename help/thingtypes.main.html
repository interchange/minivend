<html>
<head>
   <title>Interchange Help: Thingtypes</title>

</head>
<body bgcolor="#ffffff" link="#7079aa" alink="#000000" vlink="#999999" >


<style type="text/css">
<!--
A:link {text-decoration: none} 
A:visited {text-decoration: none} 
A:active {text-decoration: none}
A:hover {color:#000000; text-decoration: none}
-->
</style>

<form>
<table width='100%' border=0 cellspacing=0 cellpadding=0><tr><td height=23 bgcolor="#e8a317" background="images/help.background.gif" valign=middle><table width='100%' cols=3 border=0 cellpadding=0 cellspacing=0><tr><td height=1 width=12 align=left valign=middle><img src='images/curve.left.help.gif' width=12 height=22></td><td valign=middle width=550><img src="images/cleardot.gif" height=1height=1 width=12><a href="main.html"><font face="Verdana, Arial, Helvetica, sans-serif" size=2>Home</font></a><img src="images/cleardot.gif" height=1 width=12><a href="faq.html"><font face="Verdana, Arial, Helvetica, sans-serif" size=2>FAQ</font></a><img src="images/cleardot.gif" height=1 width=12</td><td align=right valign=middle width=40><a href='help' target="Help" onclick='return ShowHelp()' onmouseover="window.status='Help';return true;" onmouseout="window.status='';return true;"><font face="Verdana, Arial, Helvetica, sans-serif" size=2>Back</font></a></td><td width=19 align=right valign=middle><img src="images/curve.right.help.gif" width=12 height=22 border=0></td></tr></table></td></tr></table>
</form>

<center>
<table border=0 cellspacing=0 cellpadding=2 width="450">

<tr>
<td>
<br>
<font size="-1" face="Verdana,Arial,Helvetica,sans-serif"><b>Thingtypes</b></font> <br>
<br>
<hr noshade size=2 width=100%>
<br>
<pre>


Documentation for thingtypes.
Copyright 1999 akopia.

*Introduction:

This document describes milton's mechanism for dealing with different types
of items, pages and groups (but *not* the mechanism for dealing with items,
pages and groups themselves).  A type of item (eg., "golf club",
 "audio CD"), page (eg., "simple page", "jason's special all-blinking
page") or group (eg., "quicklink box", "pages to generate remotely") is
generically called a thingtype, for lack of better available verbiage.

*Data layout:

The following tables in the database maintain associations between
pages and snippet types.  Items and groups each have a similarly named
set of tables to associate them with their own snippet types.  The
following description of the "page" tables is prototypical for "item"
and "group".  The only deviation from the pattern is the table for
groups, called "group_table" instead of simply "group" because "group"
is a reserved word in SQL.

			     
	 		      pagetype
                              ^     ^
                              |     |
			     /       \
                            /         \
		page_to_type           pagetype_to_snip
                       /	         \
                      /                   \
                     |                     |
                     v                     v 
	           page                   pagesniptype


pagetype provides a label by which associations between a page and its
fields can be referenced.  Eg, any page with pagetype "foo" should
have associated "bar", "baz" and "qux" snippet types available for
that page.

page_to_type associates pages with types.  Obviously, many pages may
be of a given type.  Pages can also have more than one type, although
this ability may or may not be handled by the API.

pagetype_to_snip provides association between a page type and its
snippet types.  A given page type will likely include several snippet
types.  Snippet types can also be shared between multiple types.

page should be documented elsewhere; it belongs to a separate
conceptual segment of milton, and only is important here in that it is
what is being associated by the pagetype table.

pagesniptype should also be defined elsewhere, as it belongs more to
the snippet system.

**Examples:

***Example 1, a simple example:

 --- pagetype ---
 type_id|name         |label  
 -------+-------------+-------
    1000| simple      | very sparse sort of page


 --- page_to_type ---              
 container_id|type_id              
 ------------+-------              
         1042|   1000                 
         1044|   1000              


 --- pagetype_to_snip ---
 type_id|sniptype_id|snip_order
 -------+-----------+----------
    1000|       1100|         1
    1000|       1101|         2


         --- page ---
 page_id| name   |filename    | etc...
 -------+--------+------------+ 
    1042|  page a|  pagea.html| ...
    1044|  page b|  pageb.html| ...


 --- pagesniptype ---
 sniptype_id|index_name|label             | etc...
 -----------+----------+------------------+ 
        1100|     title|        Page title| ...
        1101|  bg_color|  background color| ...


    In this simple example, we have a single type of page, "simple".
Two pages, "page a" and "page b" are of this type.  The type has two
snippet types associated therewith; "title" and "bg_color".  Thus we
know that we can expect "page a" to have both a "title" and
"bg_color", since it is of type "simple".  Incidentally, snip_order
indicates in which order each of the snippet type editing widgets will
be displayed to the administrator when editing a container.

---------------------------------------------------------

***Example 2, a more complicated example:

      
   --- pagetype ---
 type_id|name         |label  
 -------+-------------+-------
    1000| simple      | very sparse sort of page
    1001| complicated | a more complicated page


 --- page_to_type ---              
 container_id|type_id              
 ------------+-------              
         1042|   1000                 
         1044|   1000              
         1043|   1001
         1045|   1001
         1046|   1000
         1045|   1000


    --- pagetype_to_snip ---
 type_id|sniptype_id|snip_order
 -------+-----------+----------
    1000|       1100|         1
    1000|       1101|         2
    1001|       1102|         1
    1001|       1103|         3
    1001|       1104|         2
    1001|       1100|         4


         --- page ---
 page_id| name   |filename    | etc...
 -------+--------+------------+ 
    1042|  page a|  pagea.html| ...
    1043|     foo|    bar.html| ...
    1044|  page b|  pageb.html| ...
    1045|     bar|    baz.html| ...
    1046|  page c|  pagec.html| ...


     --- pagesniptype ---
 sniptype_id|index_name|label               | etc...
 -----------+----------+--------------------+ 
        1100|     title|          Page title| ...
        1101|  bg_color|    background color| ...
        1102|  titleimg|title image filename| ...			     
        1103|    footer|         footer text| ...
        1104|    header|         header text| ...


    Here we have two types of page, "simple" and "complicated".  There
are four pages which are "simple", and two which are "complicated".
Actually, we note that page number 1045 ("bar") is both "simple" and
"complicated".

    The "simple" type has the same fields we saw in the first example;
"title" and "bg_color".  "complicated" pages also have a "title", and
additionally have a "header", "footer" and "titleimg".


---------------------------

* THINGTYPE API

    The following functions are available for manipulating thingtypes:

</pre> <br>
<br>

<hr noshade size=2 width=100%>
<font face="Verdana, Arial, Helvetica, sans-serif" size="1">
<a href="http://developer.akopia.com"><b>Interchange</b></a><a href="http://www.akopia.com"><b> - ©1999 Akopia, Inc.</b></a></font>

</td>
</tr>
</table>
</body>
</html>

